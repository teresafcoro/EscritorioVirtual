<!DOCTYPE HTML>
<html lang="es">

<head>
    <!-- Datos que describen el documento -->
    <!-- Codificación de caracteres -->
    <meta charset="UTF-8" />
    <!-- Autor -->
    <meta name="author" content="María Teresa Fernández Coro, UO263728" />
    <!-- Descripción -->
    <meta name="description" content="Viajes" />
    <!-- Palabras clave -->
    <meta name="keywords" content="Viajes, Localización actual, Mapa" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Título -->
    <title>Escritorio Virtual | Viajes</title>
    <!-- Enlace al icono del sitio web -->
    <link rel="icon" href="multimedia/favicon.ico" sizes="32x32" type="image/ico" />
    <!-- Enlace al archivo JavaScript utilizando la opción minificada de jQuery Core 3.x -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="js/viajes.js"></script>
    <!-- Enlace a las hojas de estilo -->
    <link rel="stylesheet" type="text/css" href="estilo/estilo.css" />
    <link rel="stylesheet" type="text/css" href="estilo/layout.css" />
    <link rel="stylesheet" type="text/css" href="estilo/viajes.css" />
</head>

<body>
    <!-- Encabezado -->
    <header>
        <h1>Escritorio Virtual</h1>
        <!-- Menú de navegación -->
        <nav>
            <a title="Inicio" accesskey="I" tabindex="1" href="index.html">Inicio</a>
            <a title="Sobre mi" accesskey="S" tabindex="2" href="sobremi.html">Sobre mi</a>
            <a title="Noticias" accesskey="N" tabindex="3" href="noticias.html">Noticias</a>
            <a title="Agenda" accesskey="A" tabindex="4" href="agenda.html">Agenda</a>
            <a title="Meteorología" accesskey="M" tabindex="5" href="meteorologia.html">Meteorología</a>
            <a title="Viajes" accesskey="V" tabindex="6" href="viajes.php">Viajes</a>
            <a title="Juegos" accesskey="J" tabindex="7" href="juegos.html">Juegos</a>
        </nav>
    </header>
    <h2>Viajes</h2>

    <h3>Mapa estático con la ubicación actual</h3>
    <input type="button" name="mapaEstatico" value="Obtener mapa estático" onClick="viajes.cargarMapaEstatico()" />
    <!-- Empleo de id para la correcta visualización del mapa estático.
    Para eliminar el Warning en el Validador HTML de W3C: "Section lacks heading" añado un encabezado dentro de la sección.
    -->
    <section id="mapaEstatico">
        <h4>Aquí se cargará el mapa</h4>
    </section>

    <h3>Mapa dinámico con la ubicación actual</h3>
    <!-- Empleo de id para la correcta visualización del mapa dinámico.
    Para eliminar el Warning en el Validador HTML de W3C: "Section lacks heading" añado un encabezado dentro de la sección.
    Además, los validadores muestran errores debido a Google Maps (su creción del mapa dinámico). -->
    <section id="mapaDinamico">
        <h4>Aquí se cargará el mapa</h4>
    </section>

    <h3>Procesado de un fichero</h3>
    <!-- id incorporado para mantener la accesibilidad -->
    <label for="fileXML">Seleccione un archivo XML:</label>
    <input type="file" id="fileXML" name="fileXML" />

    <h3>Procesado de varios ficheros de planimetría</h3>
    <!-- id incorporado para mantener la accesibilidad -->
    <label for="filesKML">Seleccione archivos KML:</label>
    <input type="file" id="filesKML" name="filesKML" multiple />
    <!-- Empleo de id para la correcta visualización del mapa dinámico.
    Para eliminar el Warning en el Validador HTML de W3C: "Section lacks heading" añado un encabezado dentro de la sección.
    Los validadores muestran errores debido a Google Maps (su creción del mapa dinámico). -->
    <section id="mapaKML">
        <h4>Aquí se cargará el mapa</h4>
    </section>

    <h3>Procesado de varios ficheros de altimetría</h3>
    <!-- id incorporado para mantener la accesibilidad -->
    <label for="filesSVG">Seleccione archivos SVG:</label>
    <input type="file" id="filesSVG" name="filesSVG" multiple />

    <script>
        var viajes = new Viajes();

        setTimeout(() => {
            viajes.cargarMapaDinamico();
        }, 2000);

        $(document).ready(function () {
            $('input[name="fileXML"]').on('change', function (event) {
                viajes.procesarXML(event.target.files[0]);
            });

            $('input[name="filesKML"]').on('change', function (event) {
                viajes.procesarKML(event.target.files);
            });

            $('input[name="filesSVG"]').on('change', function (event) {
                viajes.procesarSVG(event.target.files);
            });
        });
    </script>
</body>

</html>